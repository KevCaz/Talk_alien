<!DOCTYPE html>
<html>
  <head>
      <title>alien: Prédire les interactions entre espèces</title>
      <meta charset="utf-8">
      <link rel="stylesheet" href="./bower_components/bootstrap/dist/css/bootstrap.min.css">
      <script src="./bower_components/jquery/dist/jquery.min.js"></script>
      <script src="./bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
      <link rel="stylesheet" href="./bower_components/font-awesome/css/font-awesome.min.css">

      <style>
      @import url(https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i,800,800i);
      @import url(https://fonts.googleapis.com/css?family=Syncopate:400,700);
      @import url(https://fonts.googleapis.com/css?family=Ubuntu+Mono:400,700,400italic);


      body {
        font-family: 'Open Sans';
        font-weight: 300 !important;
        line-height: 2em;
      }

      h1 {
        font-size: 1.5em !important;
        font-family: 'Syncopate';
        font-weight: normal;
        margin-top: 10px;
        margin-bottom: 10px;

      }

      h2, h3 {
        font-size: 1.2em !important;
        font-family: 'Open Sans';
        font-weight: 300 !important;
        margin-top: 10px;
      }

      .small {
        font-size: 0.75em
      }

      .block {
        padding-bottom: 30px;
        padding-top: 30px
      }

      .transition {
        background-color: #034370;
        color: white !important;
      }

      .transition h1 {
        color: white !important;
        font-size: 1.5em !important;
      }

      .transition h2 {
        font-size: 1.5em !important;
      }

      .slides {
        margin: 40px 30px 10px 30px !important;
      }

      .slides h1{
        color: #034370;
      }

      .slides h2 {
        margin-bottom: 1.5em;
      }

      .slides h4 {
        font-family: 'Open Sans' !important;
        font-weight: 300 !important;
        font-size: 20px;
        margin-bottom: 20px;
        color:#034370
      }

      .remark-slide-number {
        font-size:12px;
      }

      .panel {
        font-size: 0.80em !important;
      }

      .panel li {
        margin-bottom: 0px;
        font-size: 18px !important;
      }

      .slides u {
        text-decoration: underline;
      }

      .panel h1 {
        font-family: 'Open Sans' !important;
        font-weight: 300;
        font-size: 18px !important;
        margin-top: 0px;
        text-decoration: underline;
      }

      .panel ul {
        margin-bottom: 0px;
      }
      .panel p {
        margin-bottom: 0px;
        font-size: 18px !important;
      }

      .remark-code, .remark-inline-code {
        font-family: 'Ubuntu Mono';
        font-size: 15px;
      }
    </style>
  </head>
  <body>
    <textarea id="source">

    class: center, middle, transition, container-fluid
    count: false


    .row[

    .col-md-5.text-right[

      ![:scale 80%](./img/network_bg.png)

    ]

    .col-md-7.text-left[

      # Alien

      ## Prédire les interactions entre espèces avec R


    .block[
      #### Par Steve Vissault,  
      .small[M.Sc., Écoinformaticien,  
      [Chaire de recherche en Écologie Intégrative](https://ielab.recherche.usherbrooke.ca)]  
    ]

    .block[
    ![:scale 30%](./img/uds.png)  ![:scale 20%](./img/csbq.png)
    ]
    ]

    ]

    ---

    class: slides

    # Mise en contexte
    ## Les réseaux: une façon d'abstraire le monde

    .row[

    .col-md-4.text-center[
      #### Réseaux de transports
      <hr style="background-color:#034370;height: 1px; border: 0;width: 75%">
      ![:scale 100%](./img/metro.jpg)
      <!-- TODO: mettre réseau de bus de Québec -->
    ]
    .col-md-4.text-center[
      #### Réseaux sociaux
      <hr style="background-color:#034370;height: 1px; border: 0;width: 75%">
      ![:scale 100%](./img/network_facebook.png)
    ]
    .col-md-4.text-center[
      #### Réseaux écologiques
      <hr style="background-color:#034370;height: 1px; border: 0;width: 75%">
      ![:scale 80%](./img/network_plantpol.png)
    ]

    ]


    ---

    class: slides

    # Définition d'un réseau
    ## Une sémantique conjointe

    .row[
    .col-md-6.text-center[
    ![:scale 100%](./img/network.png)
    ]
    .col-md-6[
    - Théorie des graphs
    - Connus dans les disciplines de l'informatique et des mathématiques
    - Un graphe est un assemblage de **noeuds** reliés par des **liens**
    ]
    ]



    ---

    class: slides, middle, transition

    # Prédire à partir des propriétés

    ---

    class: slides

    # Les propriétés des noeuds
    ## Les réseaux sociaux

    .row[
    .col-md-6[
    ![:scale 85%](./img/network_face2.png)
    ]
    .col-md-6[
    Chaque membre d'un réseau dispose de propriétés qui le définisse:

    - Âge
    - Sexe
    - Lieu de naissance
    - Profession
    - Études etc.

    ]
    ]


    ---

    class: slides

    # Les propriétés des noeuds
    ## Comment prédire les liens à partir des propriétés des noeuds?

    .row[
    .col-md-6[
    ![:scale 85%](./img/network_face3.png)
    ]
    .col-md-6[

    Si je diffuse une nouvelle...

    #### Est-ce que cette nouvelle sera visible sur le fil d'actualité de mes amis Facebook (création d'un lien)?


    ]
    ]

    ---

    class: slides

    # Cadre prédictif
    ## Définir un lien à partir des propriétés d'un noeud

    .row[
    .col-md-6.text-center[
    ![:scale 100%](./img/edgerank2.jpg)
    ]
    .col-md-6.text-left[

    #### Simple algorithme:

    $$\sum_{lien=e} u_e w_e d_e$$

    Où:

    - `\(u_e\)` est le *score d'affinité* entre mon ami et moi (ayant posté la nouvelle)
    - `\(w_e\)` le poid attribué à ce *type de nouvelle*
    - `\(d_e\)` le *temps* depuis la création de la nouvelle

    ]
    ]

    ---

    class: slides

    # Cadre prédictif

    .row[
    .col-md-12.text-center[
    ## Ce type d'algorithms de rangs sont répandus à travers de nombreuses plateformes.
    ]
    .col-md-6.text-center[
    ![:scale 40%](./img/netflix_logo.png)
    ]
    .col-md-6.text-center[
    ![:scale 40%](./img/amazon_logo.jpg)
    ]
    ]
    .row[
    .col-md-6.text-center[
    ![:scale 90%](./img/netflix.png)
    ]
    .col-md-6.text-center[
    ![:scale 90%](./img/amazon.png)
    ]
    ]


    ---

    class: slides, transition, middle

    .row[
    .col-md-7[
    # Écologie
    ## Peux-t-on faire la même chose en écologie?
    ]
    .col-md-5[
    ![:scale 100%](./img/network_bg.png)
    ]
    ]


    ---

    class: slides

    # Les propriétés des noeuds
    ## Les réseaux écologiques

    .row[
    .col-md-6[
    #### Réseau plantes-pollinisateur
    ![:scale 60%](./img/network_plantpol.png)

    .small[Bartomeus *et al*, 2017]

    ]
    .col-md-6[
    #### Les propriétés des organismes
    .panel.panel-info[
    .panel-heading[
    ![:scale 10%](./img/phylo.png) Phylogénie
    ]
    .panel-body[
    Indique le degré de parenté d'un organisme avec les autres organismes du réseau (distance génétique)
    ]
    ]
    ![:scale 100%](./img/phylo2.png)
    .small[A. Wild & K. Schaefer]
    ]
    ]

    ---

    class: slides
    count: false

    # Les propriétés des noeuds
    ## Les réseaux écologiques

    .row[
    .col-md-6[
    #### Réseau plantes-pollinisateur
    ![:scale 60%](./img/network_plantpol.png)

    .small[Bartomeus *et al*, 2017]

    ]
    .col-md-6[
    #### Les propriétés des organismes
    .panel.panel-warning[
    .panel-heading[
    ![:scale 10%](./img/trait.png) Traits
    ]
    .panel-body[
    Mesure qualitative ou quantitative prise sur un organisme (i.e. Taille des ailes, Type d'appareil bucal etc.)
    ]
    ]
    ![:scale 100%](./img/traits.jpg)
    .small[L. Watson & M. J. Dallwitz]
    ]
    ]

    ---

    class: slides
    count: false

    # Les propriétés des noeuds
    ## Les réseaux écologiques

    .row[
    .col-md-6[
    #### Réseau plantes-pollinisateur
    ![:scale 60%](./img/network_plantpol.png)

    .small[Bartomeus *et al*, 2017]

    ]
    .col-md-6[
    #### Les propriétés des organismes
    .panel.panel-success[
    .panel-heading[
    ![:scale 8%](./img/coOcc.png) Co-occurence et Co-abondance
    ]
    .panel-body[
    Les deux organismes doivent être présent sur le site au moment de l'échantillonnage.
    ]
    ]
    ![:scale 100%](./img/coOcc2.jpg)
    .small[Mediawiki]
    ]
    ]

    ---

    class: slides
    count: false

    # Les propriétés des noeuds
    ## Les réseaux écologiques

    .row[
    .col-md-6[
    #### Réseau plantes-pollinisateur
    ![:scale 60%](./img/network_plantpol.png)

    .small[Bartomeus *et al*, 2017]

    ]
    .col-md-6[
    #### Les propriétés des organismes
    .panel.panel-info[
    .panel-heading[
    ![:scale 10%](./img/phylo.png) Phylogénie
    ]
    ]
    .panel.panel-warning[
    .panel-heading[
    ![:scale 10%](./img/trait.png) Traits
    ]
    ]
    .panel.panel-success[
    .panel-heading[
    ![:scale 10%](./img/coOcc.png) Co-occurence et Co-abondance
    ]
    ]
    .panel.panel-primary[
    .panel-body[

    # Problématique 1

    - Une grande diversité de structure et format de données
    - L'information sur certaines espèces peut-être manquante
    ]
    ]
    ]
    ]

    ---

    class: slides

    # Écologie
    ## Peux-t-on prédire les liens à partir de la similarité entre espèces?

    .row[
    .col-md-12.text-center[
    ![:scale 70%](./img/proba_simi2.png)
    ]
    ]

    ---

    class: slides

    # Écologie
    ## Peux-t-on prédire les liens à partir de la similarité entre espèces?

    .row[
    .col-md-6[

    ![:scale 100%](./img/darwin.jpg)

    ]
    .col-md-6[
    #### Plusieurs méthodes:

    - Machine learning (approche fréquentiste):
      - apprentissage supervisé
      - apprentissage non-supervisé
    - Méthodes orientées par les données (approche bayésiennes)
    - Méthodes orientées basées sur la correpondance entre traits (approche fréquentistes)

    ]
    ]


    ---

    class: slides

    # Écologie
    ## Peux-t-on prédire les liens à partir de la similarité entre espèces?

    .row[
    .col-md-6[

    ![:scale 100%](./img/darwin.jpg)

    ]
    .col-md-6[
    <br>
    .panel.panel-primary[
    .panel-body[
    # Problématique 2

    - Pas toutes implémentées dans R
    - Structures de sorties divergeantes, rendant difficile la comparaison méthodologique
    - Intensives
    ]
    ]
    ]
    ]

    ---

    class: slides, transition, middle

    # Le projet Alien

    ---


    class: slides

    # Le projet Alien
    ## Pourquoi alien?

    .row[
    .col-md-6.text-center[
    ![:scale 100%](./img/network2.png)
    ]
    .col-md-6[

    Être en mesure d'évaluer les potentiels liens générés par l'arrivé d'une nouvelle espèce dans un réseau (*Invasive species*).

    - Pertinent dans un contexte de changements climatiques où les espèces vont être amenées à se déplacer.
    - On parle d'un ré-assemblage des communautés par perte ou gain en espèce

    ]
    ]

    ???
    Les réseaux partagent tous une sémantique conjointe: des noeuds et des liens
    Vérifier graph E

    ---

    class: slides, middle

    # Le projet Alien...
    ### Une initiative d'un réseau de collaborateurs

    .row[
    .col-md-7[
    <iframe src="./network.html" width="100%" height="500px" frameBorder="0"></iframe>
    ]
    .col-md-5[
    <br>
    #### **Objectif:** Développer un package R permettant de prédire les interactions entre espèces

    #### **Défis** reliés aux problématiques:

    1. Générer un format standard de données propre au package
    2. Implémenter les différentes méthodes avec une structure de sortie uniforme
    3. Développer des outils d'évaluation des modèles
    ]
    ]

    ---

    class: slides, middle

    # Le projet Alien...
    ### Une initiative d'un réseau de collaborateurs

    .row[
    .col-md-7[
    <iframe src="./network.html" width="100%" height="500px" frameBorder="0"></iframe>
    ]
    .col-md-5[

    #### Phase de développement

    - Intégration d'un système de contrôle de version (Git)
    - Utilisation de tests unitaires pour le contrôle de qualité du code (package `testhat`)
    - Construction du package avec les tests à chaque modifications du code (`codecov`,`appveyor`,`travis CI`)
    - [Dépot sur GitHub](https://github.com/TheoreticalEcosystemEcology/alien)
    ]
    ]


    ---

    class: slides

    # Le projet Alien...
    ### Le package R

    .col-md-12[
    ![:scale 100%](./img/workflow.jpg)
    ]


    ---

    class: slides

    # Le projet Alien...
    ### Étape 1: Reformattage

    #### Structure de l'objet `alienData`

    ```r
    > str(bartomeus)
    List of 10
     $ idObs       :'data.frame':	2938 obs. of  4 variables:
      ..$ idSite: Factor w/ 16 levels "Aznalcazar","Bonares",..: 1 1 1 1 1 1 1 16 16 15 ...
      ..$ idTime: Factor w/ 7 levels "1","2","3","4",..: 1 1 1 1 1 1 1 1 1 1 ...
      ..$ idSp  : Factor w/ 331 levels "Acacia adealbata",..: 46 40 59 46 46 46 59 46 272 40 ...
      ..$ idInd : Factor w/ 2938 levels "1","2","3","4",..: 1 2 3 4 5 6 7 8 9 10 ...
     $ interactPair:'data.frame':	1469 obs. of  3 variables:
      ..$ idTo    : Factor w/ 1469 levels "1","2","3","4",..: 1 2 3 4 5 6 7 8 9 10 ...
      ..$ idFrom  : Factor w/ 1469 levels "1470","1471",..: 1 2 3 4 5 6 7 8 9 10 ...
      ..$ strength: int [1:1469] 11 2 4 14 12 3 1 36 1 1 ...
     $ interactSp  : int [1:331, 1:331] NA NA NA NA NA NA NA NA NA NA ...
      ..- attr(*, "dimnames")=List of 2
      .. ..$ : chr [1:331] "Acacia adealbata" "Acmaeoderella adspersula" "Agapanthia asphodeli" "Amegilla albigena" ...
      .. ..$ : chr [1:331] "Acacia adealbata" "Acmaeoderella adspersula" "Agapanthia asphodeli" "Amegilla albigena" ...
     $ interactInd : int [1:2938, 1:2938] 11 NA NA NA NA NA NA NA NA NA ...
      ..- attr(*, "dimnames")=List of 2
      .. ..$ : chr [1:2938] "1" "2" "3" "4" ...
      .. ..$ : chr [1:2938] "1" "2" "3" "4" ...
     $ coOcc       : num [1:331, 1:331] 1 0 0 0 0 0 0 0 0 0 ...
      ..- attr(*, "dimnames")=List of 2
      .. ..$ : chr [1:331] "Acacia adealbata" "Acmaeoderella adspersula" "Agapanthia asphodeli" "Amegilla albigena" ...
      .. ..$ : chr [1:331] "Acacia adealbata" "Acmaeoderella adspersula" "Agapanthia asphodeli" "Amegilla albigena" ...
     $ coAbund     : NULL
     $ siteEnv     : NULL
     $ traitSp     :'data.frame':	830 obs. of  3 variables:
      ..$ idSp     : Factor w/ 331 levels "Acacia adealbata",..: 1 8 32 48 49 51 52 74 78 88 ...
      ..$ traitName: Factor w/ 7 levels "flower_morphology",..: 1 1 1 1 1 1 1 1 1 1 ...
      ..$ value    : chr [1:830] "Actinomorphic" "Actinomorphic" "Actinomorphic" "Actinomorphic" ...
     $ traitInd    :'data.frame':	1469 obs. of  3 variables:
      ..$ idInd    : Factor w/ 1469 levels "1","2","3","4",..: 1 2 3 4 5 6 7 8 9 10 ...
      ..$ traitName: Factor w/ 1 level "sex": 1 1 1 1 1 1 1 1 1 1 ...
      ..$ value    : chr [1:1469] "worker" "male" "queen" "worker" ...
     $ phy         : NULL
     - attr(*, "coOccSource")= chr "idObs"
     - attr(*, "scaleSiteEnv")= logi FALSE
     - attr(*, "scaleTrait")= logi FALSE
     - attr(*, "interceptSiteEnv")= logi FALSE
     - attr(*, "interceptTrait")= logi FALSE
     - attr(*, "class")= chr "alienData"
    ```


    ---

    class: slides

    # Le projet Alien...
    ### Étape 2: Intégration méthodologique

    - Exemple de sorties de modèles
    - Figures de Kévin


    ---

    class: slides, middle

    # En résumé
    ## Le projet Alien...


    ### Implications

    - Reconstruire les réseaux (contexte de CC, réassemblage des communautés)
    - Espèces invasives, Extinction locale

    ### Développements futurs

    - D




    </textarea>
    <script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS_HTML&delayStartupUntil=configured" type="text/javascript"></script>

    <script>

    remark.macros.scale = function (percentage) {
      var url = this;
      return '<img src="' + url + '" style="width: ' + percentage + '" />';
      };

    var slideshow = remark.create();

        // Setup MathJax
    MathJax.Hub.Config({
        tex2jax: {
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre']
        }
    });

    MathJax.Hub.Configured();

    </script>
  </body>
</html>



SORTIE STANDARD: Par des pairs d'espèces
WRAPPER: PREDICT (ajout de nouvelle espèce, reconstruction du réseau)

- FOURNIS DES JEUX DE DONNÉES
  - Objectif de reproductibilité
  - Objectif de comparaison
- OUTILS INTERPRÉTATION DES RÉSEAU PROBABILISTE
- INTÉGRATION DE TOUTES LES MÉTHODES

- DÉFI SUR LE TRAITEMENT DES DONNÉES
- Multidimensionnel
- SP

- Objet
